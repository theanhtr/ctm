<template>
  <div id="main-content">
    <div class="header">
      <div class="header__left">
        <misa-icon
          icon="sidebar__control--grey"
          tooltip="Thu g·ªçn sidebar"
          @click="collapseSidebar"
          v-if="$store.state.isExpandSidebar"
        ></misa-icon>
        <div class="header__branch" title="C√¥ng ty c·ªï ph·∫ßn MISA">
          <div class="header__branch-name">C√¥ng ty c·ªï ph·∫ßn MISA</div>
          <misa-icon icon="dropdown--light-black"></misa-icon>
        </div>
        <misa-button
          :scaleIcon="0.7"
          type="sub"
          icon="dot--success"
          height="var(--primary-button-height)"
          title="misa_test_db"
          >misa_test_db</misa-button
        >
      </div>
      <misa-icon icon="header__download" tooltip="T·∫£i t·ªáp excel" />
      <div class="header__right">
        <misa-search-input
          v-model="searchText"
          width="200px"
          placeholder="Nh·∫≠p t·ª´ kh√≥a t√¨m ki·∫øm"
        />
        <div class="header__action-right">
          <misa-button
            type="icon"
            height="100%"
            width="auto"
            class="header__action-icon"
            @mouseenter="headerButtonHover['header__setting'] = true"
            @mouseleave="headerButtonHover['header__setting'] = false"
            :icon="
              'header__setting--' +
              (headerButtonHover['header__setting'] ? 'white' : 'grey')
            "
            tooltip="C√°c ti·ªán √≠ch v√† thi·∫øt l·∫≠p"
          />
          <misa-button
            type="icon"
            height="100%"
            width="auto"
            class="header__action-icon"
            @mouseenter="headerButtonHover['header__message'] = true"
            @mouseleave="headerButtonHover['header__message'] = false"
            :icon="
              'header__message--' +
              (headerButtonHover['header__message'] ? 'white' : 'grey')
            "
            tooltip="Trao ƒë·ªïi gi·ªØa DN v√† KTDV"
          />
          <misa-button
            type="icon"
            height="100%"
            width="auto"
            class="header__action-icon"
            @mouseenter="headerButtonHover['header__question'] = true"
            @mouseleave="headerButtonHover['header__question'] = false"
            :icon="
              'header__question--' +
              (headerButtonHover['header__question'] ? 'white' : 'grey')
            "
            tooltip="Gi√∫p"
          />
          <misa-button
            type="icon"
            height="100%"
            width="auto"
            class="header__action-icon"
            @mouseenter="headerButtonHover['header__noti'] = true"
            @mouseleave="headerButtonHover['header__noti'] = false"
            :icon="
              'header__noti--' +
              (headerButtonHover['header__noti'] ? 'white' : 'grey')
            "
            tooltip="Th√¥ng b√°o"
          />
        </div>
        <div class="header__account-info" title="Th√¥ng tin ng∆∞·ªùi d√πng">
          <div class="account-avatar"></div>
          <div class="account-name">Tr·∫ßn Th·∫ø Anh</div>
          <misa-icon scale="0.7" icon="dropdown--light-black" />
        </div>
      </div>
    </div>
    <div class="page-content">
      <slot></slot>
    </div>
  </div>
</template>

<script>
export default {
  name: "TheMainContent",
  methods: {
    /**
     * b·∫Øt s·ª± ki·ªán thu g·ªçn sidebar
     * @author: TTANH (25/06/2023)
     */
    collapseSidebar() {
      try {
        this.$store.commit("toggleSidebar");
      } catch (error) {
        console.log(
          "üöÄ ~ file: TheMainContent.vue:83 ~ collapseSidebar ~ error:",
          error
        );
      }
    },
  },
  data() {
    return {
      headerButtonHover: {
        header__setting: false,
        header__message: false,
        header__question: false,
        header__noti: false,
      },
      searchText: "",
    };
  },
};
</script>

<style>
@import url(./header.css);
@import url(./page-content.css);

#main-content {
  height: 100%;
  width: calc(100% - 180px);
  display: flex;
  flex-direction: column;
}
</style>
